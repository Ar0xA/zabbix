UserParameter=nginx.active[*],if [ `find /tmp -name "nginx-status" -mmin -$3 -type f | wc -l` -eq 0 ]; then wget -O- -q $1:$2 > /tmp/nginx-status; fi; cat /tmp/nginx-status|awk '/^Active/ {print $NF}'
UserParameter=nginx.reading[*],if [ `find /tmp -name "nginx-status" -mmin -$3 -type f | wc -l` -eq 0 ]; then wget -O- -q $1:$2 > /tmp/nginx-status; fi; cat /tmp/nginx-status|awk '/Reading/ {print $$2}'
UserParameter=nginx.writing[*],if [ `find /tmp -name "nginx-status" -mmin -$3 -type f | wc -l` -eq 0 ]; then wget -O- -q $1:$2 > /tmp/nginx-status; fi; cat /tmp/nginx-status|awk '/Writing/ {print $$4}'
UserParameter=nginx.waiting[*],if [ `find /tmp -name "nginx-status" -mmin -$3 -type f | wc -l` -eq 0 ]; then wget -O- -q $1:$2 > /tmp/nginx-status; fi; cat /tmp/nginx-status|awk '/Waiting/ {print $$6}'
UserParameter=nginx.accepted[*],if [ `find /tmp -name "nginx-status" -mmin -$3 -type f | wc -l` -eq 0 ]; then wget -O- -q $1:$2 > /tmp/nginx-status; fi; cat /tmp/nginx-status|awk '/^[ \t]+[0-9]+[ \t]+[0-9]+[ \t]+[0-9]+/ {print $$1}'
UserParameter=nginx.handled[*],if [ `find /tmp -name "nginx-status" -mmin -$3 -type f | wc -l` -eq 0 ]; then wget -O- -q $1:$2 > /tmp/nginx-status; fi; cat /tmp/nginx-status|awk '/^[ \t]+[0-9]+[ \t]+[0-9]+[ \t]+[0-9]+/ {print $$2}'
UserParameter=nginx.requests[*],if [ `find /tmp -name "nginx-status" -mmin -$3 -type f | wc -l` -eq 0 ]; then wget -O- -q $1:$2 > /tmp/nginx-status; fi; cat /tmp/nginx-status|awk '/^[ \t]+[0-9]+[ \t]+[0-9]+[ \t]+[0-9]+/ {print $$3}'
